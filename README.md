Схема базы данных

![Диаграмма базы данных](/database_diagram.jpg)

Примечания:
1. В таблице user_friends_status тип поля status_of_friendship - varchar с ограничениями на принимаемые значения
   (Confirmed или Unconfirmed).
2. В этой же таблице user_id - id пользователя, инициировавшего добавление в друзья, 
   friend_id - id пользователя, подтверждающего статус дружбы.
3. В этой же таблице user_id - id пользователя, инициировавшего добавление в друзья,
   friend_id - id пользователя, подтверждающего статус дружбы.

В данный коллективный проект были добавлены следующие функциональности:
1. "Фильмы по режиссерам" (ответственный Владимир Курнаков, ветка add-director).
2. "Отзывы" (ответственный Мартынов Иван, ветка add-reviews).
3. "Удаление фильмов и пользователей" (ответственная Мария Лукьянова, ветка add-remove-endpoint).
4. "Общие фильмы" (ответственная Мария Лукьянова, ветка add-common-films).
5. "Рекомендации" (ответственная Гюзяль Сергейчук, ветка add-recommendations).
6. "Поиск" (ответственная Ольга Лизунова, ветка add-search).
7. "Лента событий" (ответственный Павел Трофимович, ветка add-feed).
8. "Популярные фильмы" (ответственный Павел Трофимович, ветка add-most-populars).


Пример запроса к базе, возвращающего логины пользователей, которые отправили запрос на добавление в друзья к
пользователю с логином login3 и статус дружбы которых не подтвержден:
    
    SELECT DISTINCT
           u.login
    FROM users AS u
    INNER JOIN user_friends_status AS ufs ON u.users_id = ufs.user_id
    INNER JOIN users AS ua ON ua.users_id = ufs.friend_id
    WHERE ufs.status_of_friendship = 'Unconfirmed' AND ua.login = 'login3';
